---
expected_error_type: none
---
// Multiple Nested Functions with Shadowing
var x = "global";

fun outer() {
  var x = "outer";

  fun middle() {
    fun inner() {
      print x; // Should capture "outer", not "global"
    }

    inner();
    var x = "middle";
    inner(); // Should still print "outer"
  }

  middle();
}

outer();